spring.application.name=NextStepEdu
spring.profiles.active=prod

# Multipart Configuration - Spring Boot level
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB
spring.servlet.multipart.file-size-threshold=0
spring.servlet.multipart.enabled=true
spring.servlet.multipart.location=${java.io.tmpdir}

# Tomcat Connector Configuration - Critical for multipart
server.tomcat.max-parameter-count=100000
server.tomcat.max-http-form-post-size=104857600
server.tomcat.max-swallow-size=104857600
server.tomcat.max-connections=200
server.tomcat.threads.max=200

# HTTP Header Size
server.max-http-header-size=100MB

# Tomcat file upload - Direct property for FileUploadBase
server.tomcat.file-upload.max-file-count=100000

# Connection timeout
server.tomcat.connection-timeout=20000

# Disable compression if causing issues
server.compression.enabled=false
